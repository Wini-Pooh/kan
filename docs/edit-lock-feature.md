# Функция блокировки/разблокировки редактирования задач

## Описание
Добавлена функция блокировки и разблокировки редактирования задач для улучшения UX. При переходе в задачу все элементы заблокированы для редактирования (режим просмотра). Пользователь может разблокировать редактирование нажатием на иконку замка в нижней панели инструментов.

## Изменения в файлах

### 1. `resources/views/task/show.blade.php`
- Добавлена иконка блокировки/разблокировки в нижнюю панель инструментов
- Добавлены классы `content-locked` к основным контейнерам
- Все кнопки панели инструментов (кроме замка) изначально имеют класс `disabled`

### 2. `resources/views/task/show_style.blade.php`
- Добавлены стили для заблокированного состояния:
  - `.toolbar-icon.disabled` - заблокированные кнопки панели инструментов
  - `.toolbar-icon.lock-icon` - стили для иконки замка (красная для заблокировано, зеленая для разблокировано)
  - `.content-locked` - стили для заблокированного контента
  - Специальные стили для разрешения выделения текста и кликов по изображениям в заблокированном режиме

### 3. `resources/js/task-show.js`
- Добавлена переменная `isEditLocked` для отслеживания состояния блокировки
- Добавлена функция `toggleEditMode()` для переключения режимов
- Добавлена функция `initializeEditLock()` для инициализации заблокированного состояния
- Добавлена функция `closeAllMenus()` для закрытия всех открытых меню при блокировке
- Добавлены функции `initializeImageClicks()` и `handleImageClick()` для просмотра изображений
- Обновлены все функции редактирования для проверки состояния блокировки:
  - `editTaskTitle()`
  - `toggleStatusMenu()`
  - `toggleDatePicker()`
  - `toggleAssigneeMenu()`
  - `addTextBlock()`
  - `triggerImageUpload()`
  - `addPageBreak()`
  - `toggleFormatMenu()`
  - `saveContent()`
- Функция `showImageModal()` работает в любом режиме для просмотра изображений

## Функционал

### Заблокированное состояние (по умолчанию)
- Иконка красного замка в панели инструментов
- Все кнопки панели инструментов неактивны
- Невозможно редактировать название задачи
- Невозможно изменять приоритет, даты, исполнителя
- Невозможно добавлять/редактировать контент
- При попытке взаимодействия показываются уведомления с предложением разблокировать

**Разрешенные действия в заблокированном режиме:**
- ✅ Выделение и копирование текста
- ✅ Просмотр изображений по клику (открытие в модальном окне)
- ✅ Прокрутка и навигация по контенту

### Разблокированное состояние
- Иконка зеленого открытого замка в панели инструментов
- Все кнопки панели инструментов активны
- Доступно полное редактирование задачи
- Сохраняются все возможности просмотра из заблокированного режима

### Переключение режимов
- Клик по иконке замка переключает между режимами
- Показываются уведомления о смене режима
- При блокировке автоматически закрываются все открытые меню

## UX улучшения
- Интуитивно понятная иконка замка
- Плавные анимации переходов между состояниями
- Информативные уведомления пользователю
- Оверлей с объяснением как разблокировать редактирование
- Цветовое кодирование: красный = заблокировано, зеленый = разблокировано

## Совместимость
- Функция работает со всеми существующими возможностями редактирования
- Не нарушает текущий функционал
- Адаптивная верстка сохранена
- Работает на всех размерах экранов
